// è¯¾ç¨‹æ•°æ® - æ ¹æ®docs/06-course-design.mdç”Ÿæˆ
export const COURSES = {
    beginner: {
        id: 'beginner',
        name: 'å…¥é—¨é˜¶æ®µ',
        description: 'è®¤è¯†ç§¯æœ¨å—ï¼Œå­¦ä¼šåŸºç¡€æŽ§åˆ¶',
        icon: 'ðŸŽ¯',
        color: '#4CAF50',
        courses: [
            {
                id: 'c01',
                title: 'å°è½¦ç¬¬ä¸€æ¬¡åŠ¨èµ·æ¥',
                duration: '15åˆ†é’Ÿ',
                description: 'è®¤è¯†ç§¯æœ¨å·¥å…·ç®±ï¼Œæ‹–æ‹½ç§¯æœ¨åˆ°å·¥ä½œåŒºï¼Œè¿žæŽ¥ç§¯æœ¨å—ï¼Œè¿è¡Œä»£ç ',
                blocks: ['å‰è¿›', 'ç­‰å¾…', 'åŽé€€', 'åœæ­¢'],
                hints: [
                    'æ‰¾åˆ°"è¿åŠ¨"å·¥å…·ç®± ðŸŽ¯',
                    'æ‹–ä¸€ä¸ª"å‰è¿›"ç§¯æœ¨åˆ°å·¥ä½œåŒº ðŸ“¦',
                    'æ‹–ä¸€ä¸ª"ç­‰å¾…2ç§’"ç§¯æœ¨ â±ï¸',
                    'æ‹–ä¸€ä¸ª"åŽé€€"ç§¯æœ¨ ðŸ”„',
                    'æ‹–ä¸€ä¸ª"åœæ­¢"ç§¯æœ¨ ðŸ›‘',
                    'ç‚¹"è¿è¡Œ"æŒ‰é’® â–¶ï¸'
                ],
                expected: 'å°è½¦å‰è¿›2ç§’åŽåŽé€€',
                funText: 'å¸®å°è½¦èµ°å‡ºç¬¬ä¸€æ­¥ï¼',
                workspace: 'xml' // å¯ä»¥é¢„è®¾ç§¯æœ¨å—å¸ƒå±€
            },
            {
                id: 'c02',
                title: 'ä¼šè·³èˆžçš„å°è½¦',
                duration: '15åˆ†é’Ÿ',
                description: 'å­¦ä¹ æ–¹å‘æŽ§åˆ¶ï¼Œç»„åˆå¤šä¸ªåŠ¨ä½œ',
                blocks: ['å‰è¿›', 'åŽé€€', 'å·¦å¹³ç§»', 'å³å¹³ç§»', 'å·¦è½¬', 'å³è½¬', 'åœæ­¢', 'ç­‰å¾…'],
                hints: [
                    'æ‹–"å‰è¿›"ç§¯æœ¨ï¼Œè®¾ç½®é€Ÿåº¦ä¸ºä¸­é€Ÿ ðŸš¶',
                    'æ‹–"ç­‰å¾…1ç§’"ç§¯æœ¨ â¸ï¸',
                    'æ‹–"åŽé€€"ç§¯æœ¨ï¼Œè®¾ç½®é€Ÿåº¦ä¸ºä¸­é€Ÿ ðŸš¶',
                    'æ‹–"ç­‰å¾…1ç§’"ç§¯æœ¨ â¸ï¸',
                    'æ‹–"å·¦è½¬"ç§¯æœ¨ï¼Œè®©å°è½¦è½¬ä¸€åœˆ ðŸ”„',
                    'æœ€åŽåˆ«å¿˜äº†"åœæ­¢"ç§¯æœ¨ ðŸ›‘'
                ],
                expected: 'å°è½¦å®Œæˆä¸€ä¸ªç®€å•çš„èˆžè¹ˆåŠ¨ä½œ',
                funText: 'è®©å°è½¦è·³ä¸€æ”¯èˆžï¼'
            },
            {
                id: 'c03',
                title: 'äº‘å°æ‘„å½±å¸ˆ',
                duration: '15åˆ†é’Ÿ',
                description: 'å­¦ä¹ äº‘å°æŽ§åˆ¶',
                blocks: ['äº‘å°å‘ä¸Š', 'äº‘å°å‘ä¸‹', 'äº‘å°å‘å·¦', 'äº‘å°å‘å³', 'äº‘å°å¤ä½', 'ç­‰å¾…'],
                hints: [
                    'æ‰¾åˆ°"äº‘å°"å·¥å…·ç®± ðŸ“¹',
                    'æ‹–"äº‘å°å‘ä¸Š"ç§¯æœ¨ ðŸ‘†',
                    'æ‹–"ç­‰å¾…2ç§’"ç§¯æœ¨',
                    'æ‹–"äº‘å°å‘ä¸‹"ç§¯æœ¨ ðŸ‘‡',
                    'æ‹–"ç­‰å¾…2ç§’"ç§¯æœ¨',
                    'æ‹–"äº‘å°å‘å·¦"ç§¯æœ¨ ðŸ‘ˆ',
                    'æ‹–"ç­‰å¾…2ç§’"ç§¯æœ¨',
                    'æ‹–"äº‘å°å‘å³"ç§¯æœ¨ ðŸ‘‰',
                    'æ‹–"ç­‰å¾…2ç§’"ç§¯æœ¨',
                    'æœ€åŽ"äº‘å°å¤ä½"è®©æ‘„åƒå¤´å›žåˆ°ä¸­é—´ ðŸ”„'
                ],
                expected: 'æ‘„åƒå¤´äº‘å°ä¸Šä¸‹å·¦å³è½¬åŠ¨',
                funText: 'å½“ä¸€æ¬¡å°æ‘„å½±å¸ˆï¼'
            },
            {
                id: 'c04',
                title: 'æˆ‘çš„ç¬¬ä¸€ç›ç¯',
                duration: '15åˆ†é’Ÿ',
                description: 'å­¦ä¹ è¾“å‡ºæŽ§åˆ¶',
                blocks: ['LEDç¯', 'èœ‚é¸£å™¨', 'ç­‰å¾…'],
                hints: [
                    'æ‰¾åˆ°"è¾“å‡º"å·¥å…·ç®± ðŸ’¡',
                    'æ‹–"LEDç¯è®¾ä¸ºçº¢è‰²"ç§¯æœ¨ ðŸ”´',
                    'æ‹–"ç­‰å¾…1ç§’"ç§¯æœ¨',
                    'æ‹–"èœ‚é¸£å™¨å¼€å¯"ç§¯æœ¨ ðŸ”Š',
                    'æ‹–"ç­‰å¾…1ç§’"ç§¯æœ¨',
                    'æ‹–"LEDç¯è®¾ä¸ºç»¿è‰²"ç§¯æœ¨ ðŸŸ¢',
                    'æ‹–"ç­‰å¾…1ç§’"ç§¯æœ¨',
                    'æ‹–"èœ‚é¸£å™¨å…³é—­"ç§¯æœ¨ ðŸ”‡',
                    'æ‹–"LEDç¯å…³é—­"ç§¯æœ¨ âš«'
                ],
                expected: 'LEDé—ªçƒå¹¶ä¼´éšèœ‚é¸£',
                funText: 'åšä¸€ä¸ªå°ä¿¡å·ç¯ï¼'
            }
        ]
    },
    intermediate: {
        id: 'intermediate',
        name: 'è¿›é˜¶é˜¶æ®µ',
        description: 'å­¦ä¹ ä¼ æ„Ÿå™¨ä½¿ç”¨å’Œæ¡ä»¶åˆ¤æ–­',
        icon: 'ðŸ“¡',
        color: '#2196F3',
        courses: [
            {
                id: 'c05',
                title: 'ä¼šçœ‹è·¯çš„å°è½¦',
                duration: '20åˆ†é’Ÿ',
                description: 'å­¦ä¹ è¶…å£°æ³¢ä¼ æ„Ÿå™¨å’Œæ¡ä»¶åˆ¤æ–­',
                blocks: ['è¶…å£°æ³¢è·ç¦»', 'å¦‚æžœ...å°±...', 'æ¯”è¾ƒ', 'å‰è¿›', 'åœæ­¢', 'èœ‚é¸£å™¨'],
                hints: [
                    'æ‰¾åˆ°"ä¼ æ„Ÿ"å·¥å…·ç®± ðŸ“¡',
                    'æ‹–"é‡å¤æ‰§è¡Œ"ç§¯æœ¨ï¼ˆåœ¨é€»è¾‘å·¥å…·ç®±ï¼‰ðŸ”',
                    'åœ¨é‡Œé¢æ‹–"è¶…å£°æ³¢è·ç¦»"ç§¯æœ¨',
                    'æ‹–"å¦‚æžœ...å°±..."ç§¯æœ¨',
                    'æ‹–"å°äºŽ"ç§¯æœ¨ï¼Œå¡«å…¥200',
                    'å¦‚æžœè·ç¦»å°äºŽ200ï¼Œå°±"åœæ­¢"å¹¶"èœ‚é¸£å™¨å“" ðŸ›‘ðŸ”Š',
                    'å¦åˆ™å°±"å‰è¿›" â¬†ï¸'
                ],
                expected: 'å°è½¦æ£€æµ‹åˆ°éšœç¢ç‰©è‡ªåŠ¨åœæ­¢',
                funText: 'ç»™å°è½¦è£…ä¸Šçœ¼ç›ï¼'
            },
            {
                id: 'c06',
                title: 'è¿½é¢œè‰²çš„å°ç‹—',
                duration: '25åˆ†é’Ÿ',
                description: 'å­¦ä¹ é¢œè‰²è¯†åˆ«å’Œå¾ªçŽ¯',
                blocks: ['æ£€æµ‹é¢œè‰²', 'å¦‚æžœ...å°±...å¦åˆ™...', 'è¿½è¸ªé¢œè‰²', 'LEDç¯', 'åœæ­¢'],
                hints: [
                    'æ‰¾åˆ°"è§†è§‰"å·¥å…·ç®± ðŸ‘ï¸',
                    'æ‹–"é‡å¤æ‰§è¡Œ"ç§¯æœ¨ ðŸ”',
                    'æ‹–"æ£€æµ‹é¢œè‰²"ç§¯æœ¨ï¼Œé€‰æ‹©çº¢è‰²',
                    'æ‹–"å¦‚æžœ...å°±...å¦åˆ™..."ç§¯æœ¨',
                    'å¦‚æžœæ£€æµ‹åˆ°çº¢è‰²ï¼ŒLEDç¯å˜çº¢å¹¶åœæ­¢ ðŸ”´ðŸ›‘',
                    'å¦åˆ™LEDç¯å˜ç»¿å¹¶ç»§ç»­è¿½è¸ª ðŸŸ¢ðŸŽ¯'
                ],
                expected: 'å°è½¦è‡ªåŠ¨è¿½è¸ªçº¢è‰²ç‰©ä½“',
                funText: 'è®­ç»ƒä¸€åªè¿½é¢œè‰²çš„å°ç‹—ï¼'
            },
            {
                id: 'c07',
                title: 'å·¡çº¿å°ä¾¦æŽ¢',
                duration: '25åˆ†é’Ÿ',
                description: 'å­¦ä¹ å·¡çº¿ä¼ æ„Ÿå™¨',
                blocks: ['å·¡çº¿çŠ¶æ€', 'å¦‚æžœ...å°±...å¦åˆ™...', 'å·¦è½¬', 'å³è½¬', 'å‰è¿›', 'åœæ­¢'],
                hints: [
                    'æ‰¾åˆ°"ä¼ æ„Ÿ"å·¥å…·ç®± ðŸ“¡',
                    'æ‹–"é‡å¤æ‰§è¡Œ"ç§¯æœ¨ ðŸ”',
                    'æ‹–"å·¡çº¿ä¼ æ„Ÿå™¨"ç§¯æœ¨ ðŸ”',
                    'æ‹–"å¦‚æžœ...å°±...å¦åˆ™å¦‚æžœ...å°±..."ç§¯æœ¨',
                    'å¦‚æžœä¸­é—´ä¸¤ä¸ªä¼ æ„Ÿå™¨éƒ½æ˜¯é»‘çš„ï¼Œå°±å‰è¿› â¬†ï¸',
                    'å¦‚æžœå·¦è¾¹ä¼ æ„Ÿå™¨æ˜¯é»‘çš„ï¼Œå°±å·¦è½¬ â†ªï¸',
                    'å¦‚æžœå³è¾¹ä¼ æ„Ÿå™¨æ˜¯é»‘çš„ï¼Œå°±å³è½¬ â†©ï¸',
                    'å¦åˆ™å°±åœæ­¢ ðŸ›‘'
                ],
                expected: 'å°è½¦æ²¿é»‘çº¿è¡Œé©¶',
                funText: 'å½“ä¸€æ¬¡å°ä¾¦æŽ¢ï¼Œæ²¿ç€çº¿ç´¢èµ°ï¼'
            },
            {
                id: 'c08',
                title: 'æ™ºèƒ½é¿éšœè½¦',
                duration: '30åˆ†é’Ÿ',
                description: 'ç»¼åˆè¿ç”¨ä¼ æ„Ÿå™¨å’Œé€»è¾‘',
                blocks: ['æ‰€æœ‰å·²å­¦ç§¯æœ¨'],
                hints: [
                    'æ‹–"é‡å¤æ‰§è¡Œ"ç§¯æœ¨ ðŸ”',
                    'æ£€æµ‹è¶…å£°æ³¢è·ç¦»',
                    'å¦‚æžœè·ç¦»å°äºŽ300mmï¼ˆæœ‰éšœç¢ç‰©ï¼‰',
                    'â†’ å·¦è½¬1ç§’é¿å¼€ â†ªï¸',
                    'â†’ æ£€æŸ¥æ–°çš„è·ç¦»',
                    'â†’ å¦‚æžœæ–°è·ç¦»å¤§äºŽ300mmï¼Œå‰è¿›2ç§’ â¬†ï¸',
                    'â†’ å¦åˆ™å³è½¬1ç§’ â†©ï¸',
                    'å¦‚æžœè·ç¦»å¤§äºŽ300mmï¼ˆæ— éšœç¢ï¼‰ï¼Œå¿«é€Ÿå‰è¿› âš¡'
                ],
                expected: 'å°è½¦è‡ªåŠ¨é¿å¼€éšœç¢ç‰©',
                funText: 'é€ ä¸€è¾†èªæ˜Žçš„é¿éšœè½¦ï¼'
            }
        ]
    },
    creative: {
        id: 'creative',
        name: 'åˆ›ä½œé˜¶æ®µ',
        description: 'è‡ªç”±åˆ›ä½œï¼Œå‘æŒ¥åˆ›æ„',
        icon: 'ðŸŽ¨',
        color: '#FF9800',
        courses: [
            {
                id: 'c09',
                title: 'æˆ‘çš„å°è½¦èˆžæ­¥',
                duration: 'å¼€æ”¾',
                description: 'è®¾è®¡ä¸€å¥—å°è½¦èˆžè¹ˆåŠ¨ä½œï¼Œç»“åˆç¯å…‰å’Œå£°éŸ³',
                blocks: ['æ‰€æœ‰è¿åŠ¨ç§¯æœ¨', 'LEDç¯', 'èœ‚é¸£å™¨'],
                hints: [
                    'å‘æŒ¥ä½ çš„æƒ³è±¡åŠ›ï¼ðŸ’¡',
                    'å¯ä»¥ç»„åˆå‰è¿›ã€åŽé€€ã€æ—‹è½¬ç­‰åŠ¨ä½œ',
                    'ç”¨LEDç¯å’Œèœ‚é¸£å™¨é…åˆèŠ‚å¥',
                    'è®©å°è½¦è¡¨æ¼”ç»™å®¶äººçœ‹ ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦'
                ],
                expected: 'ä¸€æ®µæœ‰è¶£çš„èˆžè¹ˆè¡¨æ¼”',
                funText: 'åšä¸ªå°å°èˆžè¹ˆå®¶ï¼'
            },
            {
                id: 'c10',
                title: 'å°è½¦èµ›è·‘',
                duration: 'å¼€æ”¾',
                description: 'ä¼˜åŒ–ç®—æ³•ï¼Œè®©å°è½¦ä»ŽAç‚¹åˆ°Bç‚¹è·‘å¾—æœ€å¿«',
                blocks: ['æ‰€æœ‰ç§¯æœ¨'],
                hints: [
                    'è®¾è®¡ä»Žèµ·ç‚¹åˆ°ç»ˆç‚¹çš„æœ€å¿«è·¯çº¿ ðŸ',
                    'ç”¨è¶…å£°æ³¢ä¼ æ„Ÿå™¨é¿å¼€éšœç¢',
                    'å°è¯•ä¸åŒçš„é€Ÿåº¦ç»„åˆ',
                    'å¯ä»¥å’Œçˆ¸çˆ¸å¦ˆå¦ˆæ¯”èµ› ðŸ‘¯'
                ],
                expected: 'æœ€å¿«çš„è·¯å¾„ç¨‹åº',
                funText: 'è°æ˜¯èµ›è½¦å† å†›ï¼Ÿ'
            },
            {
                id: 'c11',
                title: 'è¿·å®«æŽ¢é™©',
                duration: 'å¼€æ”¾',
                description: 'ç”¨çº¸æ¿æ­å»ºè¿·å®«ï¼Œç¼–ç¨‹è®©å°è½¦èµ°å‡ºè¿·å®«',
                blocks: ['æ‰€æœ‰ç§¯æœ¨'],
                hints: [
                    'ç”¨çº¸æ¿æˆ–ä¹¦æ­å»ºä¸€ä¸ªè¿·å®« ðŸ°',
                    'ç”¨ä¼ æ„Ÿå™¨æŽ¢æµ‹å¢™å£',
                    'å·¦è½¬ã€å³è½¬ã€å‰è¿›...',
                    'æ‰¾åˆ°å‡ºå£ï¼ðŸšª'
                ],
                expected: 'æˆåŠŸèµ°å‡ºè¿·å®«',
                funText: 'å°å°æŽ¢é™©å®¶ï¼'
            },
            {
                id: 'c12',
                title: 'æˆ‘çš„å‘æ˜Ž',
                duration: 'å¼€æ”¾',
                description: 'å®Œå…¨è‡ªç”±åˆ›ä½œï¼Œå‘æ˜Žä¸€ä¸ªæœ‰è¶£çš„å°è½¦è¡Œä¸º',
                blocks: ['æ‰€æœ‰ç§¯æœ¨'],
                hints: [
                    'ä½ æƒ³è®©å°è½¦åšä»€ä¹ˆï¼ŸðŸ’­',
                    'è‡ªç”±ç»„åˆæ‰€æœ‰ç§¯æœ¨',
                    'å¯ä»¥è®²ä¸€ä¸ªæ•…äº‹',
                    'å¯ä»¥åšä¸ªå°æ¸¸æˆ',
                    'å±•ç¤ºå¹¶è®²è§£ä½ çš„ä½œå“ ðŸŽ¤'
                ],
                expected: 'ä½ çš„ç‹¬ç‰¹åˆ›ä½œ',
                funText: 'åšä¸ªå°å°å‘æ˜Žå®¶ï¼'
            }
        ]
    }
};

// è¯¾ç¨‹å®ŒæˆçŠ¶æ€ç®¡ç†
export class CourseManager {
    constructor() {
        this.loadProgress();
    }

    loadProgress() {
        const saved = localStorage.getItem('blockly_course_progress');
        this.progress = saved ? JSON.parse(saved) : {};
    }

    saveProgress() {
        localStorage.setItem('blockly_course_progress', JSON.stringify(this.progress));
    }

    markCompleted(courseId) {
        this.progress[courseId] = {
            completed: true,
            completedAt: new Date().toISOString()
        };
        this.saveProgress();
    }

    isCompleted(courseId) {
        return this.progress[courseId]?.completed || false;
    }

    getCompletedCount(levelId) {
        const level = COURSES[levelId];
        if (!level) return 0;
        return level.courses.filter(c => this.isCompleted(c.id)).length;
    }

    getTotalCount(levelId) {
        return COURSES[levelId]?.courses.length || 0;
    }

    resetProgress() {
        this.progress = {};
        this.saveProgress();
    }
}
